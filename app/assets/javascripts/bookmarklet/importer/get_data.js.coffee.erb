//= require bookmarklet/importer/sources/pinterest
//= require bookmarklet/importer/sources/test

window.ppImporterClasses ?= {}

class window.ppImporterClasses.GetData
  
  useTestData   = <%= Rails.env.production? ? false : true %> && false

  constructor: (@parent) ->
    @source = if useTestData then 'Test' else @parent.options.dataSource
  
  getData: (callback) ->
    dataSource = new window.ppImporterClasses.Sources[@source](@parent)
    dataSource.getData (data) ->
      callback(data)
      
    